{"version":3,"sources":["home.jsx","classroom.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["Home","Carousel","Item","className","src","alt","Caption","Container","Row","Col","md","Image","fluid","Classroom","roomID","useParams","useState","voteOn","setVoteOn","voteOff","setVoteOff","client","mqtt","connect","process","on","subscribe","err","topic","message","path","split","value","parseInt","ProgressBar","variant","now","max","CardDeck","Card","Header","Text","ButtonGroup","size","Button","onClick","publish","toString","qos","retain","App","rooms","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","map","roomId","to","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7adfa8aa.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  Container, Carousel, Col, Row, Image,\n} from 'react-bootstrap';\n\nfunction Home() {\n  return (\n    <div>\n      <Carousel>\n        <Carousel.Item>\n          <img\n            className=\"d-block w-100\"\n            src=\"3D_room.jpg\"\n            alt=\"First slide\"\n          />\n          <Carousel.Caption>\n            <h1>Awesome Air</h1>\n          </Carousel.Caption>\n        </Carousel.Item>\n      </Carousel>\n      <Container className=\"p-5\">\n        <Row>\n          <Col md>\n            <h2>Introduction</h2>\n            <p />\n          </Col>\n          <Col md>\n            <Image src=\"3D_room.jpg\" alt=\"Introduction\" fluid />\n          </Col>\n        </Row>\n      </Container>\n      <hr />\n      <Container className=\"p-5\">\n        <Row>\n          <Col md>\n            <Image src=\"3D_room.jpg\" alt=\"Future Outlook\" fluid />\n          </Col>\n          <Col md>\n            <h2>Future Outlook</h2>\n            <p />\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState } from 'react';\nimport {\n  Container, ButtonGroup, Button, Card, CardDeck, ProgressBar,\n} from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport mqtt from 'mqtt';\n\nfunction Classroom() {\n  const { roomID } = useParams();\n\n  const [voteOn, setVoteOn] = useState(0);\n  const [voteOff, setVoteOff] = useState(0);\n\n  const client = mqtt.connect(process.env.REACT_APP_MQTT_BROKER);\n  client.on('connect', () => {\n    client.subscribe(`${roomID}/#`, (err) => {\n      if (err) throw err;\n    });\n  });\n  client.on('message', (topic, message) => {\n    const path = topic.split('/');\n    switch (path[1]) {\n      case 'vote': {\n        const value = parseInt(message, 10);\n        if (path[2] === 'on') setVoteOn(value);\n        if (path[2] === 'off') setVoteOff(value);\n        break;\n      }\n      default:\n        break;\n    }\n  });\n\n  const handleVoteOn = () => {\n    const value = voteOn + 1;\n    client.publish(`${roomID}/vote/on`, value.toString(), {\n      qos: 1,\n      retain: true,\n    });\n  };\n  const handleVoteOff = () => {\n    const value = voteOff + 1;\n    client.publish(`${roomID}/vote/off`, value.toString(), {\n      qos: 1,\n      retain: true,\n    });\n  };\n\n  return (\n    <Container>\n      <div className=\"p-4 w-100 text-center\">\n        <h1>{`Voting ${roomID}`}</h1>\n        <strong>Voting Rules</strong>\n        <p>This is the rules of vote.</p>\n      </div>\n      <div className=\"pb-4 text-center w-100\">\n        <strong>Current status</strong>\n        <ProgressBar>\n          <ProgressBar variant=\"success\" now={voteOn} max={voteOn + voteOff} key={1} />\n          <ProgressBar variant=\"danger\" now={voteOff} max={voteOn + voteOff} key={2} />\n        </ProgressBar>\n      </div>\n      <div className=\"text-center\">\n        <CardDeck>\n          <Card>\n            <Card.Header>If turn on...</Card.Header>\n            <Card.Text>Something happens.</Card.Text>\n          </Card>\n          <Card>\n            <Card.Header>If turn off...</Card.Header>\n            <Card.Text>Something happens.</Card.Text>\n          </Card>\n        </CardDeck>\n        <h2>You can vote</h2>\n        <ButtonGroup size=\"lg\" className=\"w-100\">\n          <Button variant=\"success\" onClick={handleVoteOn}>On</Button>\n          <Button variant=\"danger\" onClick={handleVoteOff}>Off</Button>\n        </ButtonGroup>\n      </div>\n    </Container>\n  );\n}\n\nexport default Classroom;\n","import React from 'react';\nimport {\n  BrowserRouter as Router, Switch, Route, Link,\n} from 'react-router-dom';\nimport { Navbar, Nav } from 'react-bootstrap';\n\nimport Home from './home';\nimport Classroom from './classroom';\n\nfunction App() {\n  const rooms = process.env.REACT_APP_ROOMS.split(',');\n\n  return (\n    <Router>\n      <div>\n        <Navbar bg=\"light\" expand=\"lg\">\n          <Navbar.Brand href=\"/\">Awesome Air</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              { rooms.map((roomId) => <Link key={roomId} className=\"nav-link\" to={`/${roomId}`}>{roomId}</Link>) }\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/:roomID\">\n            <Classroom />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}